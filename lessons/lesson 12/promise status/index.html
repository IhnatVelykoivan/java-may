<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>


<script>

// fetch('https://jsonplaceholder.typicode.com/users/1')
//         .then(value => value.json())
//         .then(users => {
//           return new Promise((resolve) => {
//             fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user.id)
//                     .then(value => {
//                       resolve(value);
//                     });
//           })
//         })
//         .then(response => response.json())
//         .then(posts => {
//           for (const post of posts) {
//             fetch('https://jsonplaceholder.typicode.com/comments?postsId=' + post.id)
//                     .then(value => value.json())
//                     .then(value => {
//                       console.log(value);
//                     });
//           }
//         });

// async function fetchPostOfUsers(userId) {
//
//   let user = await fetch('https://jsonplaceholder.typicode.com/users/' + userId).then(value => value.json()); //response -   user +
//   // let user = await response.json();
//   console.log(user);
//   let posts = await fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user.id).then(value => value.json()); //analogy with response2 and posts
//   // let posts = await response2.json();
//   console.log(posts)
//   return true;
// }
// fetchPostOfUsers(1)
// fetchPostOfUsers(9)

console.log(fetch('https://jsonplaceholder.typicode.com/users/'));


//.then .catch
let x = 0;
new Promise((resolve,reject) => {
  setTimeout(() => {
    ++x;
    console.log('operation 1', x);
    if (x === 1){
      reject('dont like number one');
    }
    resolve();
  }, 500);
})
        .then(value => value)
        .catch(reason => console.log(reason));

//promise: work - pending //if finished work - ff//catch - rejected

Promise.race([
  fetch('https://jsonplaceholder.typicode.com/users').then(value => value.json()),
  fetch('https://jsonplaceholder.typicode.com/posts').then(value => value.json())
])
.then(value => console.log(value));
Promise.all([
  fetch('https://jsonplaceholder.typicode.com/users').then(value => value.json()),
  fetch('https://jsonplaceholder.typicode.com/posts').then(value => value.json())
])
        .then(value => console.log(value));

</script>
</body>
</html>
















